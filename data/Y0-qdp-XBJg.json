{"video": {"id": "Y0-qdp-XBJg", "title": "Protected Routes in React using React Router", "description": "In this video, we will create a protected route using React Router. This route is accessible only when the user is logged in.\n\nLink to CodeSandbox: https://codesandbox.io/s/ol6z72kjy9\n\nTutorial from Nick Karnik. Check out his YouTube channel: https://www.youtube.com/channel/UClCm-WAOgN6XLwCpefSVezg\n\nNick on Twitter: https://twitter.com/theoutlander\n\n--\n\nLearn to code for free and get a developer job: https://www.freecodecamp.org\n\nRead hundreds of articles on programming: https://medium.freecodecamp.org", "duration": "PT15M40S", "likes": "5893", "views": "336638"}, "comments": [{"topLevelComment": {"author": "\u0634\u0627\u06c1 \u0634\u062c\u0627\u0639", "text": "3:00\nThank you for these awesome videos, Here's a tip for best practices for new JS or react enthusiasts.\n\nWhen you're just returning some JSX from a component, you can go ahed and remove curly braces and 'return' syntax such as:\n\n```\nconst Hello = () => ( <h1> Hi \\> ) \n```", "likes": 0}}, {"topLevelComment": {"author": "The Best Chill Sounds", "text": "Please update", "likes": 1}}, {"topLevelComment": {"author": "yao fab", "text": "HOw is protected if anyone can modify the frontend source code?", "likes": 1}}, {"topLevelComment": {"author": "hafsa el koumikhi", "text": "thank you so much", "likes": 0}}, {"topLevelComment": {"author": "Ovik", "text": "does not work in react router v6", "likes": 0}}, {"topLevelComment": {"author": "Muhriddin Xusniddinov", "text": "it's amazing tuturial", "likes": 0}}, {"topLevelComment": {"author": "Zakia RAHMOUNE", "text": "Very useful .. THanks", "likes": 0}}, {"topLevelComment": {"author": "Elizabeth S", "text": "Now, I really didn't expect this to end up being a perfect ASMR video", "likes": 0}}, {"topLevelComment": {"author": "Flying Face", "text": "Fell asleep halfway through. Work on your intonation, boss.", "likes": 0}}, {"topLevelComment": {"author": "chan chin chon", "text": "when i was refresh /app profile, thats redirect to homepage. Why? i dont want to redirect from /app to homepage, i want stay in /app after logged in. How can i do it ?", "likes": 0}, "replies": [{"author": "Guillaume Chiasson", "text": "app.layout.js , line 11.\n\nI think this is where you would find your answer.", "likes": 0}]}, {"topLevelComment": {"author": "Mohamed kalid", "text": "How we can rewrite the Auth.js 04:47 in Functional component ? can anyone help me", "likes": 0}}, {"topLevelComment": {"author": "Husnain Mehmood", "text": "The isAuthenticated value resets on page refresh. Can anyone tell me how to resolve that issue?", "likes": 0}}, {"topLevelComment": {"author": "\u1200\u1201 tube", "text": "thanks this was really help full .thanks alot", "likes": 0}}, {"topLevelComment": {"author": "Shibah", "text": "Quality content right there! Thanks!", "likes": 0}}, {"topLevelComment": {"author": "Zahid Shaikh", "text": "Thanks bro!", "likes": 0}}, {"topLevelComment": {"author": "Prathamesh Chavan", "text": "Thanks, good explanation.", "likes": 0}}, {"topLevelComment": {"author": "Akash Shrestha", "text": "great", "likes": 0}}, {"topLevelComment": {"author": "Shadman Fatin", "text": "Thanks a lot. But it's so complicated \ud83d\ude25\ud83d\ude16", "likes": 0}}, {"topLevelComment": {"author": "Ivan Nasonov", "text": "Does anyone know why it resets authentication on page reload?", "likes": 0}}, {"topLevelComment": {"author": "Vignesh Lokeshbabu", "text": "Hey, Hello all, I need help, so someone please do help me out as soon as possible. I followed this tutorial to implement protected routing in react, but unfortunately, whenever I refresh the page, I'm going back to the login page. Please somebody help me.", "likes": 0}}, {"topLevelComment": {"author": "bharathy nasar", "text": "Great...it worked. really helpful. thanks", "likes": 0}}, {"topLevelComment": {"author": "nishant gada", "text": "Unnecessary complexity, could've been simpler.", "likes": 0}}, {"topLevelComment": {"author": "Joseph Sam", "text": "Thanks man....", "likes": 0}}, {"topLevelComment": {"author": "Xuxunguinho", "text": "thank you very much for the help, but this only works until you update the page", "likes": 0}}, {"topLevelComment": {"author": "Akash Pandya", "text": "why tf you guys don't use func components and hooks?!!!", "likes": 0}}, {"topLevelComment": {"author": "pianojames", "text": "you'd get a million views if you added asmr to the title :p", "likes": 0}}, {"topLevelComment": {"author": "Benyam", "text": "It is a free resource but this tutorial needs a lot of rework.", "likes": 0}}, {"topLevelComment": {"author": "Nguy\u1ec5n V\u00f5 Ho\u00e0ng Long", "text": "Thank you", "likes": 0}}, {"topLevelComment": {"author": "Rahul Meghani", "text": "The way you speak, it might take 2022 to complete the video.", "likes": 0}}, {"topLevelComment": {"author": "TheEthical H", "text": "thank you very much sir", "likes": 0}}, {"topLevelComment": {"author": "Ahmad Yahya", "text": "nice tutorial, thanks", "likes": 0}}, {"topLevelComment": {"author": "Pasindu Pansilu", "text": "Thank you man. You saved me \u2764\ufe0f", "likes": 0}}, {"topLevelComment": {"author": "Dipen Parmar", "text": "Super cool calm,", "likes": 0}}, {"topLevelComment": {"author": "Piriyadarrshan S", "text": "Thanks, sir its very usefull", "likes": 0}}, {"topLevelComment": {"author": "Shely", "text": "What is the editor name?", "likes": 0}}, {"topLevelComment": {"author": "Yanurmal Rais", "text": "Great tutorial, easy to follow. Btw, what font do you use?", "likes": 1}}, {"topLevelComment": {"author": "Shubham Londhe", "text": "man you are awesome!", "likes": 0}}, {"topLevelComment": {"author": "Robin Hayden", "text": "Very clear explanation, thanks", "likes": 0}}, {"topLevelComment": {"author": "Anmol Singh", "text": "The true tutorial not like Formula one developer hey look my speed", "likes": 0}}, {"topLevelComment": {"author": "Rohit mahale", "text": "thanks", "likes": 0}}, {"topLevelComment": {"author": "Ozan Ayten", "text": "This is been very helpful, cleared few questions I had. Thank you.", "likes": 0}}, {"topLevelComment": {"author": "The Theology Channel", "text": "I looked up how to hide the Navbar/Header from certain pages ... this didn't help with that but it did clear up other issues I was having....lol", "likes": 0}, "replies": [{"author": "Je12emy", "text": "You can check If the user is currently in a certain location in your site and chose to return or not  to return the navigation bar.", "likes": 0}]}, {"topLevelComment": {"author": "Rafi Hasan", "text": "The Video was really helpful........Thanks a million..", "likes": 0}}, {"topLevelComment": {"author": "Akash Chokshi", "text": "I tried solving a use case using this approach but could not solve it. Have 2-3 open routes, 2-3 protected-routes, and a wild card route at the end of router switch. The protectedRoute being a component renders everything and starts executing whatever logic is inside it. For example, I hit a wild card route /asd and I want to redirect all wild card route to /home. Since protectedRoute component comes before the wild card route in App.js/.tsx the wild card route is never hit and I am redirected to the else condition logic inside my protectedRoute.", "likes": 0}}, {"topLevelComment": {"author": "Rojan Subedi", "text": "I am wondering, what will happen if you pass random url name, when you are still logged in. In my code, I couldnot show 404 page not found in such condition.", "likes": 0}}, {"topLevelComment": {"author": "Dipenparmar12", "text": "Good one. simple and superb .", "likes": 0}}, {"topLevelComment": {"author": "Dmitrii", "text": "Thank you so much for amazing explanation!", "likes": 0}}, {"topLevelComment": {"author": "Dominik Domagalski", "text": "What names this plugin for dependency management?", "likes": 0}}, {"topLevelComment": {"author": "Dennis", "text": "Thanks!", "likes": 0}}, {"topLevelComment": {"author": "Erick G.", "text": "If you are using jwt, can you control access that way (like if they have admin privileges?)", "likes": 0}}, {"topLevelComment": {"author": "JP Calvo", "text": "This is awesome. Thank you very much \u2764\ufe0f", "likes": 0}}, {"topLevelComment": {"author": "Yuriy M", "text": "The last thing that I would like to see is try to get access to /app when you logged out", "likes": 8}, "replies": [{"author": "createlyf", "text": "Me too. I was literally waiting for that! \ud83d\ude05", "likes": 1}, {"author": "Rian Iregho", "text": "yup, I m too :(", "likes": 1}]}, {"topLevelComment": {"author": "Ante Zivkovic", "text": "What if the routes I want to protect use the render prop because they render components that have props themselves?  I get errors using this method.", "likes": 2}}, {"topLevelComment": {"author": "kishore kumar", "text": "what is the IDE used in the video? and which is the recommended community IDE's available", "likes": 0}}, {"topLevelComment": {"author": "yumi zaids", "text": "at first 4 secs. of listening to his voice thought it was a text to voice and suddenly after hearing an unexpected words, ... what!!???", "likes": 0}}, {"topLevelComment": {"author": "Peter Palmer", "text": "thanks, simple solution \u2705", "likes": 0}}, {"topLevelComment": {"author": "obed sayyad", "text": "this function expires the login while refreshing please help me how to set session logout time", "likes": 1}}, {"topLevelComment": {"author": "Vishal Variyani", "text": "Which editor is this?", "likes": 0}}, {"topLevelComment": {"author": "VISHWAS R", "text": "Mention of \"withRouter\" saved my live\ud83d\ude4f\ud83c\udffb\ud83d\ude4f\ud83c\udffb\ud83d\ude4f\ud83c\udffb\ud83d\ude4f\ud83c\udffb", "likes": 3}}, {"topLevelComment": {"author": "VISHWAS R", "text": "\ud83d\ude4f\ud83c\udffb\ud83d\ude4f\ud83c\udffb\ud83d\ude4f\ud83c\udffb thanks and thanks and thanks\ud83d\ude4f\ud83c\udffb\ud83d\ude4f\ud83c\udffb\ud83d\ude4f\ud83c\udffb", "likes": 0}}, {"topLevelComment": {"author": "VISHWAS R", "text": "Thank you", "likes": 0}}, {"topLevelComment": {"author": "VISHWAS R", "text": "Thanks", "likes": 0}}, {"topLevelComment": {"author": "VISHWAS R", "text": "Thank you", "likes": 0}}, {"topLevelComment": {"author": "Arthur Ianuzzi", "text": "What VS Code extension are you using for dependency management?", "likes": 0}, "replies": [{"author": "Amirov UZ", "text": "He was not using VS Code. He was using Sandbox https://codesandbox.io/s/ol6z72kjy9?file=/src/index.js", "likes": 0}]}, {"topLevelComment": {"author": "Nuno Coelho", "text": "You totally glanced over the more complicated parts of the code without explaining what's happening. Not very helpful...", "likes": 1}}, {"topLevelComment": {"author": "Paulo Henrique", "text": "Muito bom, conte\u00fado excelente!", "likes": 1}}, {"topLevelComment": {"author": "anas taj", "text": "which ide are you using?", "likes": 0}}, {"topLevelComment": {"author": "Nassar Digitals", "text": "importing auth in different js files is creating instances of them. How are you managing to set login= true in one page, then importing auth in another page and the value is still true??", "likes": 3}, "replies": [{"author": "Nguyen Hanh", "text": "this is just example, in real project this will be handle by backend.", "likes": 0}]}, {"topLevelComment": {"author": "kawding_sikul", "text": "Very usefull and short one", "likes": 0}}, {"topLevelComment": {"author": "SOCsIAL App", "text": "Anyone knows how to do routing using drop-down list ???", "likes": 0}, "replies": [{"author": "Rojan Subedi", "text": "add <Link to=\" \"> tag to the drop down list items and inside to= \" \", put the corresponding route paths", "likes": 0}]}, {"topLevelComment": {"author": "jeyan saran", "text": "Is it protected But how , One can change the the state of authenticated from developer options", "likes": 1}}, {"topLevelComment": {"author": "Bidhya Pokharel", "text": "Thank you so much for such a beautiful Video....Had not slept since last night since I was trying to do it by reading Documentations...You're so great....Wish I had explored this thing before!!", "likes": 0}}, {"topLevelComment": {"author": "Zeeshan Ali Khan", "text": "how can i set role based routes for admin and normal user??", "likes": 1}}, {"topLevelComment": {"author": "morapedi masima", "text": "10/10 honestly, great video and explanation!", "likes": 3}}, {"topLevelComment": {"author": "Guillermo Cobo", "text": "yees", "likes": 0}}, {"topLevelComment": {"author": "nagaraju kp", "text": "Really awesome video\nVery simple and subjective", "likes": 0}}, {"topLevelComment": {"author": "Rajan Singh", "text": "It really helped a lot, thank you!", "likes": 0}}, {"topLevelComment": {"author": "Emrah KORKMAZ", "text": "the intro voice is 100% similar to sale commercial ads voice :)", "likes": 0}}, {"topLevelComment": {"author": "Abanoub Ashraf", "text": "what editor is this, and is the shema theme you use on it plz?", "likes": 0}}, {"topLevelComment": {"author": "Mertcan \u00c7etinkaya", "text": "Thank you for this video. I want to ask a question. Is it higher order component?", "likes": 0}}, {"topLevelComment": {"author": "Matt Markus", "text": "In your protected route (the layout), won't you have to load different components depending on what they do in the layout page? Like say your layout has a navbar with different links to different components within the main area of your layout/nav page. Will these components still be protected, or would you have to make every component you want to protect a protected route in your App.js ? Thanks, great tutorial.", "likes": 1}}, {"topLevelComment": {"author": "Davis", "text": "I suppose in real life situation that auth.isAuthenticated call should be made on every protected view attempt? Or just save it in state? I tried to do axios get and confirm the jwt token is valid, yet it seems somehow that check fails - undefined is returned when protectedrout component waits for that reply. Hmm, a little bit lost there.", "likes": 0}}, {"topLevelComment": {"author": "LordGrim", "text": "what fonts did you used, im curious", "likes": 0}, "replies": [{"author": "Ramanan Balamurugan", "text": "That's Dank mono", "likes": 1}]}, {"topLevelComment": {"author": "Hileamlak Mulugeta", "text": "This is exactly what  I needed", "likes": 0}}, {"topLevelComment": {"author": "Bryan Chu", "text": "You should do ASMR, because your making me sleep.", "likes": 0}}, {"topLevelComment": {"author": "Erich Casagrande Perusso", "text": "Really efficient tutorial man! thanks for your help, cheers from Brazil ;)", "likes": 2}}, {"topLevelComment": {"author": "Rajasai D", "text": "Thanks you very much for the video. i got stuck with this issue and you helped me solve it", "likes": 0}}, {"topLevelComment": {"author": "Josh Amore", "text": "Straight to the point. Thanks!", "likes": 0}}, {"topLevelComment": {"author": "Johanna", "text": "I really like this tutorial. It's perfect ! Thank you very much ! :)", "likes": 3}}, {"topLevelComment": {"author": "kvieres", "text": "is it the right way to do this?, there isn't a plugin or something that avoid put this interventions in each part of my code..", "likes": 0}}, {"topLevelComment": {"author": "Akhil Jayachandran", "text": "hi , can you put some video related to how to use pagenotfound component   and which will not impact private route.", "likes": 0}}, {"topLevelComment": {"author": "ashish chiluka", "text": "Best tutorial I saw for react router can u make video on design patterns in react", "likes": 1}}, {"topLevelComment": {"author": "Max", "text": "Thanks men, thats what i have been searching for :)", "likes": 0}}, {"topLevelComment": {"author": "Md. Mainuddin", "text": "Just awesome!!! Thanks a lot.", "likes": 0}}, {"topLevelComment": {"author": "kumar gagare", "text": "Thanks it really helped me", "likes": 0}}, {"topLevelComment": {"author": "Farad Niftaly", "text": "Awesome job, keep the good work ...", "likes": 0}}, {"topLevelComment": {"author": "Programmer 404", "text": "Okay, if this is happening in FrontEnd, So Can anyone modify the code and get access to our protected route?", "likes": 0}, "replies": [{"author": "Martin Vang", "text": "@Jose Alvarez Cabrera I don't have a pure frontend solution, however, you could use SSR (e.g. using a framework like Next.js) to gain complete control of your routes.", "likes": 0}, {"author": "Jose Alvarez Cabrera", "text": "@Martin Vang I do have my API calls protected in my server with JWT tokens. Still, I wonder if there's an alternative approach that is less dependent of the front end. I don't have experience storing stuff like tokens in the web browser, but I believe there would be a way of taking advantage of that + JWT. What would be your opinion?", "likes": 0}, {"author": "Martin Vang", "text": "In principle \u2013 however, if you make sure to protect your API calls on your server, \u201cthey\u201d won\u2019t be able to receive restricted data \u2013 hence: accessing a restricted route in frontend will be pointless.", "likes": 0}]}, {"topLevelComment": {"author": "Vaisakh C P", "text": "which IDE are you using ?", "likes": 0}}, {"topLevelComment": {"author": "Shan Indrakumar", "text": "great vid", "likes": 0}}, {"topLevelComment": {"author": "Sneha Rajput", "text": "Hello Sir, I am facing some issue in my project, i have used BrowserRouter for Route but after create build then run on browser and after refresh page 'object not found error showing' but i have used HashRouter for Route then after create build run on browser, project run perfect. Please help me to solve this error 'object not found after page refresh'", "likes": 0}}, {"topLevelComment": {"author": "Kosana Reshma", "text": "How to do unit testing for this file with jest", "likes": 0}}, {"topLevelComment": {"author": "Muhammad Usman", "text": "Hi, what if we want to protect our whole application with the protected router \nwhat should we do then", "likes": 0}}, {"topLevelComment": {"author": "Dr Lucky", "text": "Good Tutor sir. Thank....", "likes": 0}}, {"topLevelComment": {"author": "Praexor Von Steing", "text": "Too small letters, zoom it dude", "likes": 0}}, {"topLevelComment": {"author": "MrAndreaGero", "text": "i try the same code but i have this issue TypeError: props.history is undefined, on 07:46", "likes": 1}, "replies": [{"author": "Kirill Barsukov", "text": "@MrAndreaGero I was able to make it work from the first shot", "likes": 0}, {"author": "Kirill Barsukov", "text": "@MrAndreaGero Can you show your code pls?", "likes": 0}, {"author": "MrAndreaGero", "text": "@Kirill Barsukov yes", "likes": 0}, {"author": "Kirill Barsukov", "text": "Have you passed the prop to the component?", "likes": 0}]}, {"topLevelComment": {"author": "Sergey Migel", "text": "Thank you!", "likes": 0}}, {"topLevelComment": {"author": "Gaurav Oberoi", "text": "what about if i am signed in, and i click on browser back button? will it shoow me the signed in page? if yes, then then it seems wrong. if no, then how to do it?", "likes": 0}}, {"topLevelComment": {"author": "Zlatko Iliev", "text": "All that is great, but when you reload the page you loose your \"isAuthenticated\" functionality because this will reinstantiate the calss and will evaluate to false again.", "likes": 0}, "replies": [{"author": "IT's Bruise", "text": "@Zlatko Iliev any way of storing data in browser is not secure))) You can try to use event \"beforeunload\" (The beforeunload event is fired when the window, the document and its resources are about to be unloaded) and store data to localStorage before unmount and on mount of application take data from localStore and clear it. It's little bit more secure)))))))))  but in reality use need to think about strategy of refreshing tokens i know only telegram solved this case as well", "likes": 0}, {"author": "Zlatko Iliev", "text": "IT's Bruise Then you loose all the security idea of the token. And if you just store the token and check base on that if localStorage has token that you are logged in, then it is not accurate, because the token also expires.", "likes": 0}, {"author": "IT's Bruise", "text": "you need just store auth data in localStorage and it will work fine", "likes": 0}]}, {"topLevelComment": {"author": "Ankit Avay", "text": "Sir, You pick an easy way to teach , I like this,  Few can do this.\nIt is very hard to teach simple.", "likes": 0}}, {"topLevelComment": {"author": "Suketu Patel", "text": "if anyone is using routes with children:\ne.g.\n<ProtectedRoute path=\"/homepage\">\r\n           <Component1/>\n\r          <Component2/>\n </ProtectedRoute>\n\nthen do this:\n\n\nimport React from \"react\"\r\nimport {Route} from \"react-router-dom\"\r\n\r\n\r\nconst ProtectedRoute = ({children,...rest}) =>{\r\n    return (\r\n        <Route {...rest}>\r\n            <>{children}</>\r\n        </Route>\r\n    )\r\n}\r\nexport default ProtectedRoute;", "likes": 39}, "replies": [{"author": "chill -_-", "text": "or import Fragmant and use <Fragment> </Fragment>", "likes": 1}, {"author": "Suketu Patel", "text": "@Bryan Amezcua glad to be of help", "likes": 0}, {"author": "Bryan Amezcua", "text": "Today, you sir were my hero. Thank you.", "likes": 1}]}, {"topLevelComment": {"author": "Amir Sohel", "text": "Can you please tell me which code editor you are using ?", "likes": 0}}, {"topLevelComment": {"author": "Prezes GustaF", "text": "So where should we read the data? Store user object in LocalStorage and then read data from it? Its good practise? so what if someone manualy change localStorage and change e.g role from user to admin?", "likes": 1}}, {"topLevelComment": {"author": "mhmd nayef", "text": "Awesome", "likes": 0}}, {"topLevelComment": {"author": "Recep \u00d6zt\u00fcrk", "text": "smooth voice and clear explanation.thanks", "likes": 0}}, {"topLevelComment": {"author": "Arshdeep Singh", "text": "I wish I could press the like button 100 times \ud83d\ude04", "likes": 0}}, {"topLevelComment": {"author": "Ricardo Sequeira", "text": "the best tutorial on React Router I saw... nice broth", "likes": 1}}, {"topLevelComment": {"author": "Cosmin", "text": "what about if i want to write it like this with the new API :\n<ProtectedRoute exact path=\"/app\">  <AppLayout />  </ProtectedRoute>  \ninstead of \n<ProtectedRoute exact path=\"/app\"  component={AppLayout}/>   \n\nhow should <ProtectedRoute/> component be?", "likes": 0}}, {"topLevelComment": {"author": "Franjo Eri\u0107", "text": "You can fix your keyboard in Apple for free, because that is their mistake.  With keyboard fix you get 0 cycles of battery :)", "likes": 0}}, {"topLevelComment": {"author": "Carnaru Valentin", "text": "React is so poor in offering such important build in API's...", "likes": 0}}, {"topLevelComment": {"author": "mohammed farhat", "text": "thank you", "likes": 0}}, {"topLevelComment": {"author": "Akash Kaushik", "text": "I am not able to understand protected route functional component.", "likes": 0}}, {"topLevelComment": {"author": "Christian Alejandro Herrejon Villa", "text": "I am grateful", "likes": 1}}, {"topLevelComment": {"author": "Edward Andres Mor\u00f3n Quintana", "text": "Thank u from Colombia. It was very helpful for me", "likes": 1}}, {"topLevelComment": {"author": "zoeygrimes07", "text": "thanks dude!", "likes": 1}}, {"topLevelComment": {"author": "bilawal ali", "text": "how to use partial components in other component. but not in login component remianing SPA", "likes": 0}}, {"topLevelComment": {"author": "Prepared Medusa", "text": "seems like you were using some device with butterfly keyboard, so annoying. I am suffering too) and ty for this short and useful explanation btw", "likes": 0}}, {"topLevelComment": {"author": "Chris Archer", "text": "can anyone help with this: when i attempt to conditionally render the NavBar (i'm imporing auth into the component) in my app based on auth.isAuthenticated() &&, the function does not seem to fire and the conditional rendering does not happen.  anyone have thoughts?", "likes": 0}, "replies": [{"author": "Yamini Hrishikesh", "text": "I have this exact same problem", "likes": 0}, {"author": "Pranav Sharma", "text": "are you changing the authentication to true somewhere.", "likes": 0}]}, {"topLevelComment": {"author": "Syed Noohu", "text": "New to ProtectedRoute...sorry if my question is naive. \nQ : Arguments in the ProtectedRoute we destructing  {component : Component, ...rest}, my doubt is \nwhy not  the assignment is other way around, i.e. {Component : component, ...rest}, since we are passing the props as 'component' only, not 'Componenet'\nThanks", "likes": 2}, "replies": [{"author": "Ammar Fy", "text": "const { component } = props ;  // how you normally do to destructure an object \nconst { component: Component } = props; // Destructure an object then give it a new variable name, Component\n\nIn React every component name should always start with Uppercase because of JSX rules. Hence, assigning 'component' to Component is needed.", "likes": 0}]}, {"topLevelComment": {"author": "HEUNSIG JO", "text": "You are a genius", "likes": 0}}, {"topLevelComment": {"author": "Salim ibn Usmon", "text": "good video", "likes": 0}}, {"topLevelComment": {"author": "Richard Torcato", "text": "you could just reader the routes if the user is authenticated. {auth.isAuthenticated && { <Route path=\"/app\"/><Route path=\"/another\" />)}. There is no need to create a HOC for this.", "likes": 0}}, {"topLevelComment": {"author": "Marlyn Elismar Pimentel", "text": "this method wouldn't work if I use fetch within my auth.isAuthenticated function", "likes": 0}}, {"topLevelComment": {"author": "As1m", "text": "How is there no App.js file in \\src. Is it not necessary? Someone explain", "likes": 0}, "replies": [{"author": "Zaid Omar", "text": "index.js has app.js merged into one file. If you look at the index.js file it initializes the App() function (App.js functionality) and below that method you can see the ReactDOM.render method where it calls the <BrowserRouter> with the corresponding <App /> component that was created above (Index.js functionality)", "likes": 1}]}, {"topLevelComment": {"author": "T S", "text": "You solved my problem. Thanks so much!", "likes": 5}}, {"topLevelComment": {"author": "Roger Odipo", "text": "You, sir, have a soothing voice.", "likes": 144}, "replies": [{"author": "Mayur Mewada", "text": "Which theme he is using...?", "likes": 0}]}, {"topLevelComment": {"author": "Vicky Virat", "text": "superb sir, you explained it very well", "likes": 1}}, {"topLevelComment": {"author": "Arun Raj Moorthy", "text": "Can Any one help me ? i am getting the below error ----- > \n./src/protected.route.js\nTypeError: Cannot read property 'forEach' of undefined", "likes": 2}, "replies": [{"author": "dragonminja24", "text": "I have the same issue when copying it over to react", "likes": 0}]}, {"topLevelComment": {"author": "Hello world", "text": "Where is github link ?", "likes": 0}}, {"topLevelComment": {"author": "Simon Kalu", "text": "Thanks, Bruh.  You did justice to this topic. Cleared all doubts", "likes": 3}}, {"topLevelComment": {"author": "Herton Mota", "text": "thanks", "likes": 0}}, {"topLevelComment": {"author": "tekqist28", "text": "Hi ! Great video! thanks a million! Do you have videos on databases? So the password etc is not stored in the browser i mean", "likes": 0}}, {"topLevelComment": {"author": "Chrisdan Evalla", "text": "Just like what I need <3 Thanks mate!", "likes": 7}}, {"topLevelComment": {"author": "Astrit Spanca", "text": "What if l want login component to not be accessible after logging in?", "likes": 0}}, {"topLevelComment": {"author": "R N", "text": "Excellent info.. It's a gem.\ud83d\udc4d  Thanks a ton \ud83d\ude4f", "likes": 0}}, {"topLevelComment": {"author": "lil pec\u00ea", "text": "you're a fucking god for this. thank you.", "likes": 0}}, {"topLevelComment": {"author": "Mahesh Tak", "text": "I would like to know, what happenes if without clicked on login i tried to visit app page through url...\n\nWill it visit to app page or it will give 401 error as wrote in Protecting Route ?", "likes": 2}, "replies": [{"author": "TheAqui2000", "text": "I know it's a year later,  but for anyone wondering now it would just redirect you back to whatever page you set it to in your private route . So if you go a protected route url without logging in,  in your private route component use the Redirect component  to take the user back to the main page if not logged in.", "likes": 2}]}, {"topLevelComment": {"author": "Olen Daelhousen", "text": "Thanks - this was really helpful. I like that you kept everything simple and didn't get overly complicated, that made it very easy to pick up the concept and start coding.", "likes": 19}}, {"topLevelComment": {"author": "Aly Zizoo", "text": "Bro Good tut ;) ! \nthis step of passing a component @ 08:55  was somehow confusing , can you please amplify this step :)", "likes": 5}, "replies": [{"author": "Alexis Echemendia", "text": "it is destructuring, you can use ***<SecretRoute exact path=\"/secret\" Component={ Secret } />***  in App.js  function; and  ***const SecretRoute = ( { Component, ...rest } )*** in protected.route.js. A component have to be named capitalize, so he use the syntax { component: Component } because the father component have the prop name \"component\". :)", "likes": 4}]}, {"topLevelComment": {"author": "kyoungd", "text": "Simple and elegant.  Nice.", "likes": 1}}, {"topLevelComment": {"author": "Abebe Bediye", "text": "Nice video!! I have a question thoug, what if you instead of \"randome\" entered \"/app\" in the address bar? would you be redirected to \"/\" or do you need a auth test implemented before that happens?", "likes": 8}, "replies": [{"author": "Telecos Bleriot", "text": "I have the same question, any solution yet?", "likes": 1}]}, {"topLevelComment": {"author": "Alg\u00e9riennes Affaires", "text": "Can you help me answer this question everything works fine but i cant make it work using a fetch call help please  https://stackoverflow.com/questions/55382418/react-js-privateroute-show-hide-a-dashboard-component-based-on-json-web-token-an?noredirect=1#comment97487679_55382418", "likes": 0}}, {"topLevelComment": {"author": "Allin One", "text": "Make it font bigger . It's not visible ur code we fellow", "likes": 0}}, {"topLevelComment": {"author": "Steven Diaz", "text": "omg i've been looking this for 2 hours, thank you a lot :DDD", "likes": 25}, "replies": [{"author": "Saurav Singh", "text": "I spent entire 2 days looking for this.", "likes": 1}]}, {"topLevelComment": {"author": "Carlos Franz", "text": "Thanks u!", "likes": 0}}, {"topLevelComment": {"author": "Web Min Tutorials", "text": "One thing I noticed is that every lesson on React about Protected Routes and user authentication are copied straight up from the reacttraining.com. \nThis example doesn't solve any problem on a major application where security and performance it's on account. In a real world scenario, you'll have a server-side authentication flow such as PassportJS with an endpoint (API) where you can make a AJAX request to check if user is authenticated and have access to certain routes.", "likes": 0}, "replies": [{"author": "L0rdSquirrel", "text": "Yes, because a basic react tutorial for beginners is going to show you how to make an enterprise ready application... \ud83d\ude44", "likes": 1}]}, {"topLevelComment": {"author": "Alireza Shahabi", "text": "amazing thanks", "likes": 0}}, {"topLevelComment": {"author": "Orivelton Cesar", "text": "Thanks for sharing this project! good luck for you.", "likes": 1}}, {"topLevelComment": {"author": "Gustavo Ordaz", "text": "Really good, thanks!", "likes": 0}}, {"topLevelComment": {"author": "Raita Sorin", "text": "What is the name of that code editor?", "likes": 1}, "replies": [{"author": "Nick Karnik", "text": "CodeSandbox. You can fork this code @ https://codesandbox.io/s/ol6z72kjy9", "likes": 0}]}, {"topLevelComment": {"author": "Marnix", "text": "Serious question, why is React so much more emphasized over Angular on this channel?", "likes": 0}, "replies": [{"author": "freeCodeCamp.org", "text": "We try to post tutorials on many different frameworks and languages. When finding tutorials to post on our channel, there are more tutorials out there about React than Angular. React is much more popular than Angular. There are about 4 times more jobs in React than Angular.", "likes": 5}, {"author": "Marnix", "text": "Daniyal Asif thanks \ud83d\udc4d", "likes": 0}, {"author": "Nick Karnik", "text": "It is likely that more people are submitting tutorials for React.", "likes": 0}, {"author": "Daniyal Asif", "text": "Freecodecamp teaches React. I think that's why, because most people subbing to this channel are learners from freeCodeCamp where they learn about react. :)", "likes": 1}]}, {"topLevelComment": {"author": "Software engineering", "text": "You are very good teacher", "likes": 7}, "replies": [{"author": "Nick Karnik", "text": "Thank you so much! I really appreciate the kind words.", "likes": 1}]}, {"topLevelComment": {"author": "tomtobac", "text": "I would like to know how to handle authentication async like begin redirect by Auth service with URL with params then asking to the server for extra data (like accounts associated) and then redirect the user to app itself. Also would be awesome to store this auth data in the localStorage :)\nThanks! Great video!", "likes": 1}, "replies": [{"author": "Rubinsky Zlatr\u00f6vich", "text": "Nick Karnik please yes", "likes": 0}, {"author": "tomtobac", "text": "I would love it! I am looking forward! :)", "likes": 0}, {"author": "Nick Karnik", "text": "Thanks, @SomethingOfHappy! Originally, I planned on doing that, but the scope of the video gets very large. I wanted to focus on specific areas to get the point across. I will consider doing a combined video after all the smaller ones are done. Perhaps, I could consider turning this into a series where I incrementally start building this stuff. Thoughts?", "likes": 4}]}, {"topLevelComment": {"author": "Ruchir Saxena", "text": "Which code editor you are using...", "likes": 0}, "replies": [{"author": "Nick Karnik", "text": "Hi Ruchir! I'm using CodeSandbox.io. I really like it and prefer it to some other tools like JSBin, JSFiddle, and CodePen. Try it out. :)", "likes": 0}, {"author": "Vitali Zinkevich", "text": "https://codesandbox.io/s/ol6z72kjy9", "likes": 0}]}, {"topLevelComment": {"author": "256k", "text": "Auth is something that's been really confusing to me to be honest, im very familiar with react and JS and everything in this video but i would relaly appreciate if there could be more in depth videos like this (which was great) about auth itself, different ways of handling auth in an application and whether write your own auth like you did or maybe use a package to handle it?", "likes": 10}, "replies": [{"author": "Yousof Mersal", "text": "The Net Ninja has a great series on Passport.JS and OAuth if that's any help.\nhttps://www.youtube.com/watch?v=sakQbeRjgwg&list=PL4cUxeGkcC9jdm7QX143aMLAqyM-jTZ2x", "likes": 2}, {"author": "Laurel Milliken", "text": "@Nick Karnik any quick hints on how to handle the passport redirect callback from the Express server in the React auth file?  Great video!", "likes": 0}, {"author": "Nick Karnik", "text": "Thanks, @fayekhelmi! I wanted to break the videos down to focus on specific areas. Originally, I planned on creating the server side using PassportJS and wiring everything, but that meant getting into a bunch of other things at the same time. I might do a combined video showing everything end-to-end in the future . The next video might just focus on integrating PassportJS.", "likes": 5}]}, {"topLevelComment": {"author": "JaHanara Choudhury", "text": "please make android web browser", "likes": 2}, "replies": [{"author": "Hasnain Nazeer", "text": "@Nick Karnik She wants you to make a browser for an android app I think", "likes": 0}, {"author": "Nick Karnik", "text": "Sorry, I'm not sure what you mean by this.", "likes": 4}]}, {"topLevelComment": {"author": "Rubinsky Zlatr\u00f6vich", "text": "But all the routes are on the bundle, they are not really \u201cprivate\u201d right? can this be solved without ssr?", "likes": 1}, "replies": [{"author": "Nick Karnik", "text": "Normally, you would implement an app as either SSR or SPA. It is not uncommon to mix them. You would load SSR content either as a page of its own outside of the React app or inside the React app. In the first scenario, a simple link referencing a server URL should do it (I haven't tried it), and in the other case, you request that static page via AJAX and load it in a div.", "likes": 0}, {"author": "Rubinsky Zlatr\u00f6vich", "text": "All the things I read are that the person can enter the route and then you validate on the server the info that comes but the user is already on the page. Is there a way to ask the server first and let the server render the page?  Like a mix of ssr and spa? Like together or something?", "likes": 0}, {"author": "Daniyal Asif", "text": "If I understand your question, you mean to say that these Protected Routes are only client side and not server side. You can easily create server side authentication with with middlewares (In Express) I have done this for my application before, I had client side protection and I also had a middleware which would check if the user is an admin or sign in and so on which would then send an error or give access depending on how the middleware evaluates.", "likes": 0}, {"author": "Nick Karnik", "text": "You are correct about that. Normally, you will have client-side routes for a Single Page Application (SPA) and server-side routes (via API's) for SPA and Server Side Rendering (SSR). You need to ensure that the user has permissions to access both.  Even if the user managed to load a route on the client, the server should have another layer of verification where it won't return data if you're not authorized. In addition, your Data Access Layer and Database should have yet another level of verification as a safeguard. Does that answer your question?", "likes": 1}]}]}