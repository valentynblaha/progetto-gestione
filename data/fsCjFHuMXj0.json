{"video": {"id": "fsCjFHuMXj0", "title": "Build a Node.js API - tutorial", "description": "Create basic CRUD routes with Node.js, Express, and MongoDB.\nNOTE: For this to work correctly, you must use the same version of mongodb. Your package.json file should say: \"mongodb\": \"^2.2.33\"\n\n\ud83d\udcbb Code on GitHub: https://github.com/beaucarnes/fcc-project-tutorials/tree/master/notable\n\n\ud83d\udd17 Based on this article by Scott Domes: https://medium.freecodecamp.org/building-a-simple-node-js-api-in-under-30-minutes-a07ea9e390d2\n\n\ud83d\udc26 Beau Carnes on Twitter: https://twitter.com/carnesbeau\n\nCheck out free Postman programs for students and educators to help you learn more about APIs: https://www.postman.com/company/student-program/\n\nLearn to code for free and get a developer job: https://www.freecodecamp.com\n\nRead hundreds of articles on technology: https://medium.freecodecamp.com\n\nAnd subscribe for new programming videos every day: https://youtube.com/subscription_center?add_user=freecodecamp", "duration": "PT33M10S", "likes": "2262", "views": "158563"}, "comments": [{"topLevelComment": {"id": "UgyVcFDgFVWOkR39OpV4AaABAg", "publishedAt": "2022-08-25T23:34:40Z", "author": "Annias", "text": "Thanks for taking the time to teach us CRUD operations in node. Also, thanks for keeping your lesson short but appropriately informative for a beginner. Blessings!", "likes": 0}, "replies": [{"id": "UgyVcFDgFVWOkR39OpV4AaABAg.9fANZ-fO_LZ9ftkulfg15F", "publishedAt": "2022-09-12T23:52:33Z", "author": "\u207a \u2460\u2465\u24ea\u2460\u2468\u2467\u24ea\u2460\u2465\u2460\u2463 WhatsApp ", "text": "Helpline\ud83d\udcf2\ud83d\udce5\u2b06\ufe0f\nQuestions can come in\u2b06\ufe0f", "likes": 0}]}, {"topLevelComment": {"id": "UgyDLaoqM7q-MiNwkzh4AaABAg", "publishedAt": "2022-03-22T00:05:59Z", "author": "8koi", "text": "No wonder I was having weird problems, 4yrs aho lmfao I'm blind", "likes": 0}}, {"topLevelComment": {"id": "Ugzdb4-IVuTLZWXZthF4AaABAg", "publishedAt": "2022-02-03T07:29:01Z", "author": "Marc Joly", "text": "Typos everywhere ! :'/\nI can't focus on what you say because I get distracted by every typo. \nCould have been great otherwise.", "likes": 0}}, {"topLevelComment": {"id": "UgwpwINRUYgSL2HegxR4AaABAg", "publishedAt": "2021-11-26T03:57:08Z", "author": "edward mac nab", "text": "The more weird things you have to add the less useful It looks . Mlab ? Isn't there something Generic or open source ?", "likes": 0}}, {"topLevelComment": {"id": "UgzGXkPXgC-1xgOJjM14AaABAg", "publishedAt": "2021-09-14T11:32:21Z", "author": "Pula", "text": "You are a wizard man. Thanks", "likes": 0}}, {"topLevelComment": {"id": "UgxhSqMXMf8u_CkRdfd4AaABAg", "publishedAt": "2021-09-10T14:38:38Z", "author": "Vadym1421-beep", "text": "21:00", "likes": 0}}, {"topLevelComment": {"id": "UgwivQGrhCw-PyRyGix4AaABAg", "publishedAt": "2021-06-27T12:23:24Z", "author": "Olivia Biswas", "text": "Great video, totally nailed it\ud83d\udd25\ud83d\udd25can you do a similar tutorial for SOAP api with Nodejs?", "likes": 0}}, {"topLevelComment": {"id": "UgxenLzXu1T1y9H9XVx4AaABAg", "publishedAt": "2021-04-11T08:06:25Z", "author": "Ankit Rawat", "text": "Beau missed closing the connection I guess", "likes": 0}}, {"topLevelComment": {"id": "Ugy7ylJAIC0p64PJDR94AaABAg", "publishedAt": "2021-04-03T13:25:32Z", "author": "Chief P", "text": "Guys. I don't understand!!", "likes": 0}}, {"topLevelComment": {"id": "UgwECKRWZdc8eumPLJJ4AaABAg", "publishedAt": "2021-02-25T20:54:14Z", "author": "Slurpee Sauce", "text": "People having issues with db.collection does not exist\nChange it to\ndb.db(nameOfDatabase).collection", "likes": 0}, "replies": [{"id": "UgwECKRWZdc8eumPLJJ4AaABAg.9KCBAF8kXvk9KCBMa8PA7k", "publishedAt": "2021-02-25T20:55:55Z", "author": "Slurpee Sauce", "text": "Also use collection.insertOne not just insert", "likes": 0}]}, {"topLevelComment": {"id": "Ugx4-gZOf7e8wMvR7Ep4AaABAg", "publishedAt": "2021-02-07T07:40:38Z", "author": "Lathryx", "text": "This comment was created by sending a post request to one of YouTube's databases through _their_ API; neat.", "likes": 2}}, {"topLevelComment": {"id": "UgzE4UADEf9PBHHH7i14AaABAg", "publishedAt": "2020-12-22T19:55:12Z", "author": "Boyi Shi", "text": "NOTE: db.collection('notes') is now changed to db.db().collection('notes)", "likes": 8}}, {"topLevelComment": {"id": "UgzqVjitE7A5Vk6MqKV4AaABAg", "publishedAt": "2020-12-20T04:17:43Z", "author": "ZeroWolf", "text": "lol im a 9 year old and i'm really experienced in coding", "likes": 0}}, {"topLevelComment": {"id": "Ugw18sqTEDjLey3UqMh4AaABAg", "publishedAt": "2020-11-12T20:02:04Z", "author": "Jermaine Goss", "text": "how do you connect with VS Code mongdb attachment", "likes": 0}}, {"topLevelComment": {"id": "UgyzkBXMGsKkxsD03Ad4AaABAg", "publishedAt": "2020-11-06T12:08:36Z", "author": "Chinonso Ojoechem", "text": "Thanks a lot", "likes": 0}}, {"topLevelComment": {"id": "UgzvI0u4_SVouYRBxfB4AaABAg", "publishedAt": "2020-10-15T08:46:45Z", "author": "Dror Golan", "text": "thank you  for a great video  , looking forward to watch your future one !", "likes": 0}}, {"topLevelComment": {"id": "UgyXFZeiqJrdckFtTvV4AaABAg", "publishedAt": "2020-07-19T09:38:18Z", "author": "Marc TRENTIN", "text": "PostMan chrome extension is now deprecated but the desktop app is working well. Same stuff for Mlab which is now MongoDB =).\nThanks for this tutorial !", "likes": 1}}, {"topLevelComment": {"id": "UgxIHTfNHoic1lirSVB4AaABAg", "publishedAt": "2020-07-17T07:17:28Z", "author": "Sanam Shrestha", "text": "is it just me or he looks kinda like Gilfoyle from Silicon Valley?? Great tutorial btw. Thank you", "likes": 0}}, {"topLevelComment": {"id": "UgxYKK9Z9geJlXvO6_p4AaABAg", "publishedAt": "2020-06-06T19:21:36Z", "author": "M\u00e9lanie Minjauw", "text": "Thank you, it was so helpful to build my first api as a non-developer ! With mongoDB cloud atlas and. the trick db.db('database').collection", "likes": 0}}, {"topLevelComment": {"id": "Ugx50Y7zE9pwvnIwi9N4AaABAg", "publishedAt": "2020-05-06T21:18:45Z", "author": "Sirajuddin AM", "text": "nice one, thanks mate !", "likes": 0}}, {"topLevelComment": {"id": "UgzSu8sNzkZdUpaI-1N4AaABAg", "publishedAt": "2020-05-02T10:34:26Z", "author": "Dalveer Singh", "text": "outdated, doesn't work atall..", "likes": 0}}, {"topLevelComment": {"id": "UgwkyejapqmDDz7RVGp4AaABAg", "publishedAt": "2020-04-30T09:03:49Z", "author": "Sunny Parmar", "text": "Best REST API tutorial on Youtube!!!", "likes": 0}}, {"topLevelComment": {"id": "UgyUxbl6kHOMdGqq1il4AaABAg", "publishedAt": "2020-04-25T20:04:50Z", "author": "Jason Prince", "text": "14:56 Can no longer create a mLab account. The site recommends using MongoDB Atlas.", "likes": 2}, "replies": [{"id": "UgyUxbl6kHOMdGqq1il4AaABAg.97tAGclxxUT9OWirA8tp69", "publishedAt": "2021-06-13T06:27:43Z", "author": "Ypeex", "text": "I'm trying to reproduce this video to learn Node.js but I m lock on the mLab acount and uses.. snif", "likes": 0}]}, {"topLevelComment": {"id": "UgyRIhsl6aa1OcUtTPB4AaABAg", "publishedAt": "2020-04-25T19:48:39Z", "author": "Jason Prince", "text": "6:00 Postman chrome extension is deprecated.", "likes": 1}, "replies": [{"id": "UgyRIhsl6aa1OcUtTPB4AaABAg.97t8QAEGuy29KeWPa5CgTf", "publishedAt": "2021-03-09T06:17:48Z", "author": "Jay Thermo", "text": "yup, it was fun while it lasted", "likes": 0}]}, {"topLevelComment": {"id": "UgyQvHpYeL6UvDi2ELN4AaABAg", "publishedAt": "2020-04-15T20:32:45Z", "author": "D30X", "text": "Thanks man great tutorial, just an FYI in the year 2020 after MongoDb version 3 was released the database connection doesn't return a database object it returns a client object and as a sub-object to the client object you can access the database object so now if you want to indicate a collection it's client.db('notes').", "likes": 0}}, {"topLevelComment": {"id": "UgyAos5tPDmFR9TlpeV4AaABAg", "publishedAt": "2020-04-10T18:38:01Z", "author": "Engr. Muhammad Umair Sultan", "text": "To get all notes in result, use:\n\napp.get('/notes', (req, res) => {\n      db.collection('notes').find({}).toArray(function (err, result) {\n          if (err) {\n              res.send({ 'error': 'An error has Occured while getting data' })\n          } else {\n              res.send(result)\n          }\n      })\n })", "likes": 0}}, {"topLevelComment": {"id": "UgzvQev6FSMgSVQ8hEt4AaABAg", "publishedAt": "2020-04-10T13:07:35Z", "author": "Neha Neha", "text": "Vdeo not clear", "likes": 2}}, {"topLevelComment": {"id": "UgxBPWNSWsuES1Rly7F4AaABAg", "publishedAt": "2020-02-01T13:24:34Z", "author": "Yang Yu", "text": "love your content man - thank you for taking the time out of your day to teach us this stuff!", "likes": 2}}, {"topLevelComment": {"id": "UgxmEXPBcJsc3OEaCRF4AaABAg", "publishedAt": "2020-01-29T10:55:10Z", "author": "Deepak Kumar Oraon", "text": "Now Mlab has been closed for new user, what are the alternatives?", "likes": 0}, "replies": [{"id": "UgxmEXPBcJsc3OEaCRF4AaABAg.94NACagNhaf97X-cjKW-L6", "publishedAt": "2020-04-16T20:09:20Z", "author": "Real Deal Og", "text": "i got the same problem and i guess mlab isn't offering free stuff anymore", "likes": 0}]}, {"topLevelComment": {"id": "UgxTB5TGp4XmTd_1PnJ4AaABAg", "publishedAt": "2019-12-18T22:39:04Z", "author": "CosmicWoods", "text": "great ...that is helpful", "likes": 0}}, {"topLevelComment": {"id": "UgzDhGjXzOlpO-Tyjpl4AaABAg", "publishedAt": "2019-12-03T16:16:13Z", "author": "marverati", "text": "22:30 at that point I get the error `db.collection is not a function`. It seems a few things are different with MongoDB Atlas, since mLab doesn't work as presented in the video anymore.\n\n\nWhat I needed to do was follow the instructions of MongoDB Atlas to set everything up, then go to Clusters, my created cluster, click 'Connect' > 'Connect Your Application', there's a) the URL we need and, when clicking 'Full Driver Example', I can see why I receive the above error message. With this it seems to work:\n\n\nconst client = new MongoClient(db.url, { useNewUrlParser: true })\nclient.connect(err => {\n  if (err) return console.log(err)\n  const db = client.db(\"databaseName\")\n  require('./app/routes')(app, db);\n  app.listen(port, () => {\n    console.log(\"We are live on \" + port);\n  });\n\n})\n\n\nWhere databaseName is however you want your database to be called. This way the `db.collection(...)` call within the routes files will work.", "likes": 20}, "replies": [{"id": "UgzDhGjXzOlpO-Tyjpl4AaABAg.924ydD0qTYu9GFg8oUUlaL", "publishedAt": "2020-11-19T19:25:48Z", "author": "spyxo2", "text": "After you create the DB and collection, you can keep all the same code as in this video, just with one minor modification. \n\nIn the note_routes.js file, instead of db.collection('demo_collection'), you need to use db.db('demo_db').collection('demo_collection').\n\nWelcome :)", "likes": 2}, {"id": "UgzDhGjXzOlpO-Tyjpl4AaABAg.924ydD0qTYu9FGQqcYu3Dd", "publishedAt": "2020-10-26T05:51:13Z", "author": "Peech", "text": "tyty", "likes": 0}, {"id": "UgzDhGjXzOlpO-Tyjpl4AaABAg.924ydD0qTYu9CHc3rCBxqp", "publishedAt": "2020-08-13T03:23:05Z", "author": "Muffin Keks", "text": "Thank you :)", "likes": 1}, {"id": "UgzDhGjXzOlpO-Tyjpl4AaABAg.924ydD0qTYu984L3mPHeZZ", "publishedAt": "2020-04-30T13:30:05Z", "author": "Sunny Parmar", "text": "Thank you so much !!!!!", "likes": 2}, {"id": "UgzDhGjXzOlpO-Tyjpl4AaABAg.924ydD0qTYu94S90qVTVyO", "publishedAt": "2020-01-31T09:21:01Z", "author": "Trevor Omondi", "text": "marverati thanks man", "likes": 2}]}, {"topLevelComment": {"id": "UgyEi8DPb5h9OSrhya94AaABAg", "publishedAt": "2019-10-19T17:02:30Z", "author": "Jason Burnell", "text": "Roger Harrington? is that you?", "likes": 0}}, {"topLevelComment": {"id": "UgyV6dS8CwaOl7M3hCd4AaABAg", "publishedAt": "2019-10-17T09:33:31Z", "author": "kevin maina", "text": "I'm sending hello in Postman but I keep getting unexpected <'H' error all the time.Please help", "likes": 2}}, {"topLevelComment": {"id": "Ugw_MfWkB349huc81yt4AaABAg", "publishedAt": "2019-10-17T06:52:18Z", "author": "Zingg", "text": "1:40 GitLab has Node Express template to initialize a project.", "likes": 1}, "replies": [{"id": "Ugw_MfWkB349huc81yt4AaABAg.90AwjoM1E3u9B6D6B0ehwx", "publishedAt": "2020-07-14T20:33:10Z", "author": "Talha Hasan Zia", "text": "Thanks! Didnt knew that!", "likes": 0}]}, {"topLevelComment": {"id": "Ugz_kjJAPbHLWInl1bR4AaABAg", "publishedAt": "2019-10-13T17:05:30Z", "author": "Antonio Guiotto", "text": "great video!", "likes": 0}}, {"topLevelComment": {"id": "UgxtJhsQBEObIaKWHEB4AaABAg", "publishedAt": "2019-09-02T21:02:19Z", "author": "Juan Yang", "text": "Are there any rules to set the post number? I've changed 8000 to 3000 and sent the data from Postman, then the Node prompet didn't response.", "likes": 0}}, {"topLevelComment": {"id": "UgxBeuD0mW7bsWodg9B4AaABAg", "publishedAt": "2019-07-06T19:50:32Z", "author": "Altanis", "text": "As of February 2019, mLab does not allow you to create a new account and log in to that account. Instead, you have to use MongoDB Atlas. How can I get my URL from there?", "likes": 2}}, {"topLevelComment": {"id": "UgynaGL-sAVe9Avm9AN4AaABAg", "publishedAt": "2019-06-17T21:49:19Z", "author": "Youngermaster", "text": "Amazing", "likes": 0}}, {"topLevelComment": {"id": "Ugz8nxEw9xMYimfCkeJ4AaABAg", "publishedAt": "2019-06-12T01:36:59Z", "author": "suresh soni", "text": "awesome REST API tutorial...!!! thank you for ending my searching here...!!", "likes": 1}}, {"topLevelComment": {"id": "UgybMGvoANKxyYZGqEJ4AaABAg", "publishedAt": "2019-06-07T02:22:33Z", "author": "EYESWEYEDOPEN", "text": "That was amazing.  Thank you!", "likes": 0}}, {"topLevelComment": {"id": "Ugx_Z_xYqzQgBXlE2iV4AaABAg", "publishedAt": "2019-05-04T07:07:33Z", "author": "Alex Vasilu\u021b\u0103", "text": "Hello future Gilfoyle", "likes": 0}}, {"topLevelComment": {"id": "UgxCTNWASwA90W-bUYJ4AaABAg", "publishedAt": "2019-04-24T22:55:12Z", "author": "jazzy", "text": "@freeCodeCamp.org what would be the natural follow-up to this introduction?", "likes": 0}}, {"topLevelComment": {"id": "UgxwjvfpkX3TkC8vyqd4AaABAg", "publishedAt": "2019-04-14T21:24:35Z", "author": "Caroline Ho", "text": "thank you for the tutorial, mLab is no longer accepting new customers and redirects to mongoDb Atlas. could you tell how to proceed to create the db since I could not find the same menus on this new platform?otherwise, is it possible to create the db through the terminal?  thank you very much for your answer", "likes": 3}}, {"topLevelComment": {"id": "UgyxKfgs8ADzs7usHvV4AaABAg", "publishedAt": "2019-04-12T18:03:14Z", "author": "Patrick O'Dowd", "text": "Great demo , thanks for sharing", "likes": 0}}, {"topLevelComment": {"id": "Ugy1FleoGCGaihbEwst4AaABAg", "publishedAt": "2019-04-03T17:52:21Z", "author": "Deque Wann", "text": "if i use latest version of mongoose (v5 ?) in dependencies and latest driver 3.0 above,  rest of the codes the same. Will it still work?? (currently using 2.2.33, driver 2.2.12 or later....)", "likes": 0}}, {"topLevelComment": {"id": "UgwfGJgscgR23Pd7OAp4AaABAg", "publishedAt": "2019-03-22T13:41:11Z", "author": "Nurali Khoja", "text": "Can someone help me out with a learning route as I have only worked frontend and now I want to  become a full stack", "likes": 3}, "replies": [{"id": "UgwfGJgscgR23Pd7OAp4AaABAg.8smWOeU8L_e8smZ25-_oLd", "publishedAt": "2019-03-22T14:04:18Z", "author": "freeCodeCamp.org", "text": "There is a free curriculum to learn full stack development at www.freecodecamp.org.", "likes": 1}]}, {"topLevelComment": {"id": "Ugxg89j_e_uhv7nN6N14AaABAg", "publishedAt": "2019-01-14T02:07:02Z", "author": "John Melody Me", "text": "I got this from Postman: \"\n\n<!DOCTYPE html>\n<html lang=\"en\">\n    <head>\n        <meta charset=\"utf-8\">\n        <title>Error</title>\n    </head>\n    <body>\n        <pre>Cannot POST /notes</pre>\n    </body>\n</html>\n\n\"\n\ninstead of \n\"hello\"", "likes": 4}}, {"topLevelComment": {"id": "UgwPCEtUjP3Bn7fhYtp4AaABAg", "publishedAt": "2018-12-10T04:39:10Z", "author": "Sun Shayina", "text": "I have an error: \"cannot find module '.app/route'", "likes": 0}, "replies": [{"id": "UgwPCEtUjP3Bn7fhYtp4AaABAg.8oeuHdAb-Nw9APhgW9Ex_4", "publishedAt": "2020-06-27T13:43:19Z", "author": "xen crashing again", "text": "routes*", "likes": 0}]}, {"topLevelComment": {"id": "UgwB228b25GxDPn4LB94AaABAg", "publishedAt": "2018-11-15T12:00:17Z", "author": "Christian Fall", "text": "I can't follow why??", "likes": 0}}, {"topLevelComment": {"id": "UgxBvEB3PITdpqQ9SMV4AaABAg", "publishedAt": "2018-09-15T12:02:51Z", "author": "Scarlet Csomorova", "text": "Very interesting stuff yea yea", "likes": 0}}, {"topLevelComment": {"id": "UgzRXZvClhR3KBwsQ7Z4AaABAg", "publishedAt": "2018-08-23T07:05:44Z", "author": "Razva Cos", "text": "SAILS.JS or ADONIS.JS api please with jwt auth", "likes": 0}}, {"topLevelComment": {"id": "Ugxeoe-XMCk8_-RpYj94AaABAg", "publishedAt": "2018-08-19T16:29:18Z", "author": "Fissle Wine", "text": "What about stylising the the returned data? And also using other the other verbs?", "likes": 0}}, {"topLevelComment": {"id": "Ugy0-iM2vXdSq73cJZZ4AaABAg", "publishedAt": "2018-08-17T01:51:51Z", "author": "Chevi Sutton", "text": "Very Helpfull", "likes": 0}}, {"topLevelComment": {"id": "UgxZ7i5_Jr_wEvOKqRt4AaABAg", "publishedAt": "2018-08-03T15:22:03Z", "author": "Ofey Ofey", "text": "NB in  note_routes.js use \ndb.db().collection('notes').insert(note, (err, result) => {.... \nfor newer versions of mongo >= 4.0.0\nand in server.js use\n{ useNewUrlParser: true }\nlike this \nMongoClient.connect(db.url,{ useNewUrlParser: true }, (err, database) => {....", "likes": 1}, "replies": [{"id": "UgxZ7i5_Jr_wEvOKqRt4AaABAg.8jUtJMGB2Oq8wtuWVwn9EM", "publishedAt": "2019-07-02T20:40:58Z", "author": "Teodoro gar", "text": "Thanks  a lot!!!  db.collection wasn't recognized as a function before that!!!", "likes": 0}]}, {"topLevelComment": {"id": "Ugyia0HGxkjyuTeoqZ54AaABAg", "publishedAt": "2018-07-28T18:38:31Z", "author": "Chriszilla1123", "text": "Thank you for the help, getting started with a self-hosted music server project.", "likes": 5}, "replies": [{"id": "Ugyia0HGxkjyuTeoqZ54AaABAg.8jFn16QSY1T9JSPxGfbrO0", "publishedAt": "2021-02-07T07:39:51Z", "author": "Lathryx", "text": "A bit late, but good luck! I hope it worked out. :)", "likes": 1}]}, {"topLevelComment": {"id": "UgyrbxxuJzeH9sTZdyt4AaABAg", "publishedAt": "2018-07-28T12:39:08Z", "author": "Petar Kolev", "text": "Great tutorial! :)))))))", "likes": 1}}, {"topLevelComment": {"id": "UgzLAbTqyDVHZoPc1R94AaABAg", "publishedAt": "2018-07-20T08:48:34Z", "author": "Mcsqw", "text": "You may run into an issue where you go from getting 'undefined' for req.body to getting an empty object '{}' - by default Postman seems to send data as form-data - but switching to x-www-form-urlencoded in Postman will give you a populated object.", "likes": 1}, "replies": [{"id": "UgzLAbTqyDVHZoPc1R94AaABAg.8iv899Z6jrb8vOO1hg5ws3", "publishedAt": "2019-05-26T09:01:18Z", "author": "Banjer", "text": "my mistake: app.use(bodyParser.urlencoded({extended: true})); has to go before require('./app/routes')(app, {});", "likes": 1}, {"id": "UgzLAbTqyDVHZoPc1R94AaABAg.8iv899Z6jrb8vOKox78AZ4", "publishedAt": "2019-05-26T08:33:13Z", "author": "Banjer", "text": "Tried..but still got undefined", "likes": 0}]}, {"topLevelComment": {"id": "Ugy6Nc6N5P53fVmlB014AaABAg", "publishedAt": "2018-07-16T05:08:14Z", "author": "Alex Reitz", "text": "db.collection is not a function. Can someone advise", "likes": 0}, "replies": [{"id": "Ugy6Nc6N5P53fVmlB014AaABAg.8ikRksEmPUh8rP2MpYkcc7", "publishedAt": "2019-02-16T05:05:37Z", "author": "oxhsun", "text": "@Gopal Rao thanks for ur kind sharing", "likes": 0}, {"id": "Ugy6Nc6N5P53fVmlB014AaABAg.8ikRksEmPUh8j0TAyaYhMG", "publishedAt": "2018-07-22T19:47:45Z", "author": "Gopal Rao", "text": "Update: you do not require the database name in the call as mentioned by Mcsqw couple of days ago. Just change it to \"require('./app/routes')(app, database.db());\". It worked for me without having to provide the database name.", "likes": 1}, {"id": "Ugy6Nc6N5P53fVmlB014AaABAg.8ikRksEmPUh8j0Scqu20hT", "publishedAt": "2018-07-22T19:42:58Z", "author": "Gopal Rao", "text": "The newer Express has the following syntax change. The call \"require('./app/routes')(app, database)\" needs the database name. Make your MongoClient.connect call to match the following:\nMongoClient.connect(db.url, function(err, database){\n    if (err) {\n        return console.log(err);\n    } else {\n        require('./app/routes')(app, database.db('genericdb'));\n        app.listen(port, function(){\n            console.log('We are live on ' + port);\n        });\n    }\n});\n\nAfter making this change, the code works good for me.", "likes": 1}]}, {"topLevelComment": {"id": "Ugyqkoh9iQ1xYtj2cYB4AaABAg", "publishedAt": "2018-07-10T23:10:36Z", "author": "Troy Barnard", "text": "in new versions of mongodb you must use db.db().collection(etc...", "likes": 17}, "replies": [{"id": "Ugyqkoh9iQ1xYtj2cYB4AaABAg.8iXvr4yCHqO97j2Nd6KfLs", "publishedAt": "2020-04-21T21:43:28Z", "author": "EDWIN GARCES", "text": "@Troy Barnard  Thanks bro", "likes": 0}, {"id": "Ugyqkoh9iQ1xYtj2cYB4AaABAg.8iXvr4yCHqO8imB8GOASG9", "publishedAt": "2018-07-16T21:21:30Z", "author": "Troy Barnard", "text": "Assuming you're using a version on mongoDB in your packages.json that is above 3.0 you wiill have to make a .db() call on your db variable before calling .collection() looking like this ' db.db().collection('notes') '", "likes": 7}, {"id": "Ugyqkoh9iQ1xYtj2cYB4AaABAg.8iXvr4yCHqO8ih6Fmmiig9", "publishedAt": "2018-07-14T22:02:38Z", "author": "Ryan Rivera", "text": "Can you explain this, I have having trouble with mongodb", "likes": 0}]}, {"topLevelComment": {"id": "Ugxkj9It5N9VKYYOavt4AaABAg", "publishedAt": "2018-07-04T18:31:28Z", "author": "Sam Parsons", "text": "I am trying to read MongoDB docs (I am a newbie), it says it is not possible to downgrade from MongoDB 3.x to anything lower than 2.6...can somebody confirm this and tell me I should just find another tutorial?", "likes": 1}, "replies": [{"id": "Ugxkj9It5N9VKYYOavt4AaABAg.8iHz8RU5fxL8ivB6GcBHdh", "publishedAt": "2018-07-20T09:14:23Z", "author": "Mcsqw", "text": "In MongoDB 3.x the connect function returns a client object that contains the database object - if you change your require('./app/routes')(app, database); line to read require('./app/routes')(app, database.db()) then everything should work as expected.", "likes": 3}]}, {"topLevelComment": {"id": "UgwqyXGvB_neQjWCC7F4AaABAg", "publishedAt": "2018-06-17T17:02:51Z", "author": "Jishnu Raj", "text": "Can you please make tutorial, teaching how to install and use angular-filesmanager node js app ?\nhttps://www.npmjs.com/package/@rign/angular2-filemanager\nPlease I really need help", "likes": 0}}, {"topLevelComment": {"id": "UgxQ8ofz9R289-SWhEZ4AaABAg", "publishedAt": "2018-05-20T20:56:19Z", "author": "Spork", "text": "Post-\"Mon\", lol. Thanks for the tutorial.", "likes": 4}}, {"topLevelComment": {"id": "UgyW0LOWQdFOUdiBl6h4AaABAg", "publishedAt": "2018-05-13T07:10:39Z", "author": "Nahom", "text": "If you are having issues with mongodb, as Beau mentioned in the notes:  *\"NOTE: For this to work correctly, you must use the same version of mongodb. Your package.json file should say: \"mongodb\": \"^2.2.33\"\"*", "likes": 1}}, {"topLevelComment": {"id": "Ugyx0zpqqtT7vxQyOYB4AaABAg", "publishedAt": "2018-05-10T00:01:02Z", "author": "Likudie Constant", "text": "Great video!! Keep it up!!", "likes": 0}}, {"topLevelComment": {"id": "UgxPQ5_xmdtpStGd5Nx4AaABAg", "publishedAt": "2018-05-05T14:44:38Z", "author": "Andrei Pashkov", "text": "Best Tutorial on this topic so far. I find that you are using a very good approach on showing the error and then the solution to it, and the explanation on why did this error happen. Thank's again sir and keep on doing this great work. Greetz from BE", "likes": 1}}, {"topLevelComment": {"id": "UgyPPdyIw9YqxPeQK9d4AaABAg", "publishedAt": "2018-04-26T02:37:53Z", "author": "amby udo", "text": "Thank you for your tutorial, how can we implement NodeJS- base API which will give the results of an SNMP poll of a remote server, having snmp community string, snmp OID1 and snmp OID2, remote server IP any address with port 161, Thanks", "likes": 0}}, {"topLevelComment": {"id": "UgxrDZM59QfTWnguAYJ4AaABAg", "publishedAt": "2018-04-19T08:11:28Z", "author": "Athlon", "text": "I copied the solution you provided buy I'm having error with the mongodb maybe a localhost mongodb ? Thanks", "likes": 0}}, {"topLevelComment": {"id": "UgwfQ6u9wpN3arRhoy94AaABAg", "publishedAt": "2018-03-27T09:21:54Z", "author": "Jonathan Engwall", "text": "Your entire app is based on using a webservice that you do not explain at all. Even using your git hub code it does not work because there is something wrong with Postman.", "likes": 0}}, {"topLevelComment": {"id": "UgzvtPYvVyP5J6KGln14AaABAg", "publishedAt": "2018-03-07T12:04:35Z", "author": "PeeJee", "text": "Thanks! how to change the id in Mlab to be a normal integer?", "likes": 0}}, {"topLevelComment": {"id": "UgwxCWyBuEvdaqceAxh4AaABAg", "publishedAt": "2018-02-17T15:40:02Z", "author": "PeeJee", "text": "Thanks! Great video! Keep up the good work.", "likes": 0}}, {"topLevelComment": {"id": "UgzfQQvO_yEYDkwxhmh4AaABAg", "publishedAt": "2018-02-09T08:45:24Z", "author": "Chris Martinez", "text": "thanks man!", "likes": 0}}, {"topLevelComment": {"id": "UgwbfwnY1drWTBBKMQV4AaABAg", "publishedAt": "2018-02-07T19:45:11Z", "author": "Sergej Arko", "text": "oh come on man.. you call this teaching?", "likes": 1}}, {"topLevelComment": {"id": "UgyrSNz9VRAvnSZbt_l4AaABAg", "publishedAt": "2018-01-19T12:25:44Z", "author": "Elena Lauren", "text": "Excellent explanation on how to build a Node.js API. Thumbs up for that video and added to my favorites. keep posting such great videos: A beginner can refer to this online resource https://goo.gl/kqko8N", "likes": 0}}, {"topLevelComment": {"id": "Ugybzm17_2L_nQPXW5Z4AaABAg", "publishedAt": "2018-01-12T19:06:11Z", "author": "Carlos va libre", "text": "On the \"db.collection is not a function\" error. Maybe a Guru could get a better solution.\n\nMongoClient.connect(db.url, (err, database) => {\n    const myDB = database.db('<DBName>') \n    myDB.collection('<collectionName>')\n    if(err) return console.log(err);\n    require('./routes')(app, myDB); // my routes are different from example ;)\n    app.listen(port, () => {\n    console.log('started on:' + port);\n    })\n})", "likes": 1}}, {"topLevelComment": {"id": "UgxCfAjjU1Znh1No7Ip4AaABAg", "publishedAt": "2017-12-31T16:37:41Z", "author": "Riski Akhbar", "text": "to anyone get TypeError: db.collection is not a function\n\ntry \nnpm uninstall mongodb --save\n\nnpm install mongodb@2.2.33 --save", "likes": 2}, "replies": [{"id": "UgxCfAjjU1Znh1No7Ip4AaABAg.8aqQ39RTCca8efUmx6XEBD", "publishedAt": "2018-04-05T20:52:57Z", "author": "g71 neo", "text": "thanks that worked", "likes": 0}, {"id": "UgxCfAjjU1Znh1No7Ip4AaABAg.8aqQ39RTCca8bqNN5kPOzt", "publishedAt": "2018-01-25T12:45:35Z", "author": "Junior Vilas Boas", "text": "That works! Thanks a lot", "likes": 0}]}, {"topLevelComment": {"id": "UgydJ9mN76WL2yzu_Nx4AaABAg", "publishedAt": "2017-12-11T22:01:58Z", "author": "Taylor", "text": "Great tutorial, Beau!\n\nAlso, what theme do you have for your terminal? I love the font and colors.", "likes": 0}}, {"topLevelComment": {"id": "UgzoprcqKDEayIu3e5h4AaABAg", "publishedAt": "2017-12-11T13:54:02Z", "author": "Vijay Kmar", "text": "Getting this error on Postman \n\nTypeError: db.collection is not a function\n    at app.post (C:\\Vijay Details\\Node\\noteable\\app\\routes\\node_routes.js:4:10)\n    at Layer.handle [as handle_request] (C:\\Vijay Details\\Node\\noteable\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Vijay Details\\Node\\noteable\\node_modules\\express\\lib\\router\\route.js:137:13)\n    at Route.dispatch (C:\\Vijay Details\\Node\\noteable\\node_modules\\express\\lib\\router\\route.js:112:3)\n    at Layer.handle [as handle_request] (C:\\Vijay Details\\Node\\noteable\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Vijay Details\\Node\\noteable\\node_modules\\express\\lib\\router\\index.js:281:22\n    at Function.process_params (C:\\Vijay Details\\Node\\noteable\\node_modules\\express\\lib\\router\\index.js:335:12)\n    at next (C:\\Vijay Details\\Node\\noteable\\node_modules\\express\\lib\\router\\index.js:275:10)\n    at C:\\Vijay Details\\Node\\noteable\\node_modules\\body-parser\\lib\\read.js:130:5\n    at invokeCallback (C:\\Vijay Details\\Node\\noteable\\node_modules\\raw-body\\index.js:224:16)", "likes": 0}, "replies": [{"id": "UgzoprcqKDEayIu3e5h4AaABAg.8a1cR5XLkN88a3G8xrbEb-", "publishedAt": "2017-12-12T05:09:04Z", "author": "Vijay Kmar", "text": "Remove the node_modules folder and change mongodb version of your package.json\n\"mongodb\": \"^2.2.33\"\n\nand run below code :\nnpm install", "likes": 0}, {"id": "UgzoprcqKDEayIu3e5h4AaABAg.8a1cR5XLkN88a1cXagaNMx", "publishedAt": "2017-12-11T13:54:55Z", "author": "Vijay Kmar", "text": "And also follow the \"https://stackoverflow.com/questions/31088663/node-js-mongodb-db-collection-find-not-working-while-collection-insert-works\" every things are correct", "likes": 0}]}, {"topLevelComment": {"id": "UgwUWPb2eD7pLKrO0Yl4AaABAg", "publishedAt": "2017-12-10T20:16:18Z", "author": "Pablo Vent", "text": "For those of you with nodemon issues (Windows 10), namely, \"bash: nodemon: command not found\", install the latest nodemon and that should solve it. Here's the link: https://stackoverflow.com/questions/46505121/bash-nodemon-command-not-found-windows-10", "likes": 0}}, {"topLevelComment": {"id": "UgxvjS_NEoRxM5CySlV4AaABAg", "publishedAt": "2017-12-10T19:58:39Z", "author": "Anakin Skywalker", "text": "Hi guys, I'm getting this error on postman each time I make a get request from my database. The POST Method works fine.\n\n<!DOCTYPE html>\n<html lang=\"en\">\n    <head>\n        <meta charset=\"utf-8\">\n        <title>Error</title>\n    </head>\n    <body>\n        <pre>Cannot GET /notes/5a2c2ab021468a218c1d5faa</pre>\n    </body>\n</html>\n\nHere's my HTTP GET Method code:\n\n    app.get('/notes:id', (req, res) => {\n        const id = req.params.id;\n        //console.log(id);\n        const details = {'_id' : new ObjectID(id)}\n        db.collection('notes').findOne(details, (err, item) => {\n            if (err){\n                res.send({'error' : 'An error has occured'});\n            }else{\n                res.send(item);\n            }", "likes": 0}, "replies": [{"id": "UgxvjS_NEoRxM5CySlV4AaABAg.8a-hMkFR07F8fB4Itj0bZI", "publishedAt": "2018-04-18T12:36:27Z", "author": "Mitchell Licen", "text": "i have the same error not sure whats wrong or how to fix it", "likes": 0}]}, {"topLevelComment": {"id": "UgxVidjdmOkw2DCwHft4AaABAg", "publishedAt": "2017-12-09T17:40:41Z", "author": "Roberto Malaver", "text": "Gilfoyle, what happened to you?", "likes": 126}, "replies": [{"id": "UgxVidjdmOkw2DCwHft4AaABAg.8_xsmJhZiqC9J6br0sp3E6", "publishedAt": "2021-01-29T20:29:18Z", "author": "SNG Gaming", "text": "haha came here to comment this!", "likes": 1}, {"id": "UgxVidjdmOkw2DCwHft4AaABAg.8_xsmJhZiqC8auwKot2l19", "publishedAt": "2018-01-02T10:45:25Z", "author": "Muhammed Nuhman", "text": "Roberto Malaver you beat me to this. This ia gilfoyle from the future.", "likes": 3}]}, {"topLevelComment": {"id": "UgxXzgjNmHfzlwz8lJl4AaABAg", "publishedAt": "2017-12-09T17:19:27Z", "author": "akinhwan. com", "text": "This may help people who are stuck, I had to actually downgrade my mongodb version\nhttps://stackoverflow.com/questions/43779323/typeerror-db-collection-is-not-a-function", "likes": 0}}, {"topLevelComment": {"id": "Ugw15sKxYSS6ss6CJZF4AaABAg", "publishedAt": "2017-12-08T19:45:30Z", "author": "Jose Breijo", "text": "What about using mongoose? You can avoid a lot of boilerplate and improve maintenance of the app.", "likes": 2}}, {"topLevelComment": {"id": "UgwvPEznKoCFT3X7PAx4AaABAg", "publishedAt": "2017-12-06T17:36:53Z", "author": "Lorenzo Jimenez", "text": "Sweet! Thanks!", "likes": 0}}, {"topLevelComment": {"id": "UgxBdfnBEjyTfstZf1h4AaABAg", "publishedAt": "2017-12-06T17:12:57Z", "author": "Michael Tsouchlarakis", "text": "please ... :)\necho \"node_modules\" >> /path/to/fcc-project-tutorials/notable/.gitignore", "likes": 0}, "replies": [{"id": "UgxBdfnBEjyTfstZf1h4AaABAg.8_q6Db3_9N48_rkO4Lm1R3", "publishedAt": "2017-12-07T08:31:53Z", "author": "Michael Tsouchlarakis", "text": "Thank YOU for being an awesome instructor :)", "likes": 0}, {"id": "UgxBdfnBEjyTfstZf1h4AaABAg.8_q6Db3_9N48_qVL8lz2DK", "publishedAt": "2017-12-06T20:52:26Z", "author": "Beau Carnes", "text": "Whoops! Thanks for pointing that out. Took out node_modules directory.", "likes": 1}]}, {"topLevelComment": {"id": "UgwDzpxBfy50fHDW0Z94AaABAg", "publishedAt": "2017-12-06T16:35:47Z", "author": "Mihail Mikla\u0161evskij", "text": "I like to separate routes from logic inside it, akka controllers.", "likes": 5}, "replies": [{"id": "UgwDzpxBfy50fHDW0Z94AaABAg.8_q1yQ6OdAZ9B6D2v_1JWn", "publishedAt": "2020-07-14T20:32:43Z", "author": "Talha Hasan Zia", "text": "Same,  i think this was just going fast enough to build a working app, i too have my directories as controllers, repos, services etc. Still a good tutorial for mongo db beginnners :)", "likes": 0}]}, {"topLevelComment": {"id": "UgyS8LBx-zy95BZAP2d4AaABAg", "publishedAt": "2017-12-05T22:44:48Z", "author": "dragonhunter250utub", "text": "most of the time you don't decide on which port the app should listen on. It shouldn't set as a const, but with app.set('port', process.env.port, yourDevPort), then the app listen on app.get('port'). \nWith your version of express, 4.16, body-parser is already included in express, with express.json and express.urlencoded.\nFor the routes, the folder structure maybe nice but passing the app as argument to each route along with the dbconnection instance is absolutly useless, you should create a Router instance for each Route module and require the dbConnection instance when needed.", "likes": 3}, "replies": [{"id": "UgyS8LBx-zy95BZAP2d4AaABAg.8_o7PEY-PK08a-j8xtev6i", "publishedAt": "2017-12-10T20:14:15Z", "author": "Pablo Vent", "text": "Thx man, nodemon was crushing because of this; by commenting body-parser out I'm back in business. Although I'm still getting undefined in postman due to this body-parser shenanigans..", "likes": 0}, {"id": "UgyS8LBx-zy95BZAP2d4AaABAg.8_o7PEY-PK08_qW1FJoiNV", "publishedAt": "2017-12-06T20:58:27Z", "author": "Beau Carnes", "text": "Thanks for the info! I didn't realize that body-parser was included in the new version of express. I'll keep this in mind for my next Node tutorial.", "likes": 3}]}, {"topLevelComment": {"id": "UgzJGbd1pzHiFW3igwh4AaABAg", "publishedAt": "2017-12-05T22:22:00Z", "author": "davelogit", "text": "the latest version of mongodb v 3.0.0-rc0  doesn't work with this tutorial. Will receive db.collection is not a function. Found this solution by Yaxartes. Resolved the issue for me https://stackoverflow.com/a/47662374/9058774", "likes": 12}, "replies": [{"id": "UgzJGbd1pzHiFW3igwh4AaABAg.8_o4nJbliQG8by0vqAxQU3", "publishedAt": "2018-01-28T12:03:24Z", "author": "Diogo Lessa", "text": "haha, same feeling!! I also spent about 30 minutes fixing this", "likes": 0}, {"id": "UgzJGbd1pzHiFW3igwh4AaABAg.8_o4nJbliQG8aL23KGHa9_", "publishedAt": "2017-12-19T02:52:17Z", "author": "E Kwong", "text": "so after 15mins on google i turned back here and that one line change in the server file fixed it thanks", "likes": 0}, {"id": "UgzJGbd1pzHiFW3igwh4AaABAg.8_o4nJbliQG8_wMyuN6lOD", "publishedAt": "2017-12-09T03:34:48Z", "author": "Rafael Mej\u00eda", "text": "Or you can also access to the database like this:\nrequire('./app/routes')(app, database.db('notable')); \naccording to https://stackoverflow.com/a/47694265\nIt fixed my problem and I didn't have to downgrade mongodb ;)", "likes": 2}, {"id": "UgzJGbd1pzHiFW3igwh4AaABAg.8_o4nJbliQG8_stWCwYmys", "publishedAt": "2017-12-07T19:10:53Z", "author": "Lorenzo Jimenez", "text": "use a handler:\n\nmodule.exports = function(app, database) {\n    app.get('/notes/:id', (req, res) => {\n        const details = { _id : new ObjectId(req.params.id) };\n        const handler = database.db('notable');\n        handler.collection('notable').findOne(details, (err, item) => {\n            if (err) {\n                res.send({ 'error' : 'An error has ocurred' });\n            } else {\n                res.send(item);\n            }\n        });\n    });\n}", "likes": 0}, {"id": "UgzJGbd1pzHiFW3igwh4AaABAg.8_o4nJbliQG8_qVfyvpljb", "publishedAt": "2017-12-06T20:55:25Z", "author": "Beau Carnes", "text": "Thanks for the tip! Yeah, the version I used was older than that.", "likes": 0}]}, {"topLevelComment": {"id": "UgzwJc0xZyOkVq9GVmp4AaABAg", "publishedAt": "2017-12-05T21:24:33Z", "author": "[Desarrollo Web NodeJS]", "text": "cool stuff! :beer:", "likes": 1}}, {"topLevelComment": {"id": "UgzP5EOxuBul8qpH8Zh4AaABAg", "publishedAt": "2017-12-05T19:10:12Z", "author": "Mirza Sisic", "text": "This is one ME(A)N tutorial :D", "likes": 12}, "replies": [{"id": "UgzP5EOxuBul8qpH8Zh4AaABAg.8_njqXZA3Vl8xDBGqoYgOG", "publishedAt": "2019-07-10T17:40:55Z", "author": "Teodoro gar", "text": "@Techno Coder LOL Just what I wanted to learn without Angular", "likes": 0}]}, {"topLevelComment": {"id": "UgwN6pg1f6NkBJ5SRrl4AaABAg", "publishedAt": "2017-12-05T18:20:45Z", "author": "Abhishek Kumar", "text": "Thank u for this awesome video", "likes": 0}}, {"topLevelComment": {"id": "Ugy-VIYKeAWg9Q1cFTV4AaABAg", "publishedAt": "2017-12-05T17:22:04Z", "author": "Hitesh Choudhary", "text": "Welcome beau", "likes": 0}}]}